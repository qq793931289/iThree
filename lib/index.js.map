{"version":3,"sources":["webpack://ithree/webpack/universalModuleDefinition","webpack://ithree/webpack/bootstrap","webpack://ithree/external \"three\"","webpack://ithree/external \"react\"","webpack://ithree/external \"three/examples/jsm/controls/OrbitControls.js\"","webpack://ithree/external \"fetch-jsonp\"","webpack://ithree/external \"axios\"","webpack://ithree/external \"three/examples/jsm/postprocessing/EffectComposer.js\"","webpack://ithree/external \"three/examples/jsm/postprocessing/RenderPass.js\"","webpack://ithree/external \"three/examples/jsm/postprocessing/AfterimagePass.js\"","webpack://ithree/./src/api/jsonp.ts","webpack://ithree/./src/api/cesium.ts","webpack://ithree/./src/api/axios.ts","webpack://ithree/./src/api/api.ts","webpack://ithree/./src/config/config.ts","webpack://ithree/./src/components/ui/base.tsx","webpack://ithree/./src/demos/demo.ts","webpack://ithree/./src/components/demo/index.tsx","webpack://ithree/./src/components/color-palette/color-card.tsx","webpack://ithree/./src/components/color-palette/index.tsx","webpack://ithree/./src/demos/digital-earth.ts","webpack://ithree/./src/components/digital-earth/index.tsx","webpack://ithree/./src/core/init.ts","webpack://ithree/./src/core/ui.comp.tsx"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","base","url","then","res","json","getPoint","input","this","_baiduBaseUrl","_ak","join","jsonp","getAddress","long","lat","String","getGeoatlas","adcode","full","_geoatlasBaseUrl","Axios","params","a","assign","catch","error","Error","cesium","Config","containerId","App","componentDidMount","render","id","style","width","height","Component","onWindowResize","camera","aspect","innerWidth","innerHeight","updateProjectionMatrix","renderer","setSize","renderCanvas","console","log","animate","requestAnimationFrame","mesh","rotateX","Math","random","rotateY","rotateZ","scene","init","container","document","getElementById","position","z","add","light1","set","light2","box","material","wireframe","transparent","opacity","antialias","setPixelRatio","devicePixelRatio","toneMapping","toneMappingExposure","outputEncoding","appendChild","domElement","autoClearStencil","controls","addEventListener","minDistance","maxDistance","target","update","handleClick","e","stopPropagation","props","item","onClick","handleMouseDown","onMouseDown","handleMouseUp","onMouseUp","handleMouseMove","onMouseMove","cardStyle","className","active","backgroundColor","color","noCheck","itemHeigth","itemLineCount","maxBlocks","currentPage","fillItemCount","navBlocks","Map","generateData","initData","handleCardScroll","preventDefault","isShowAll","boxRef","current","scrollTop","setState","colorItems","getPageItems","items","checkScrollTo","top","checkNavigation","handleItemMouseDown","activeItemId","state","activeIndex","fillItems","Array","fill","colorIndex","componentWillReceiveProps","nextProps","componentWillUnmount","removeEventListener","element","options","scrollTo","scroll","scrollBy","left","scrollOpt","undefined","scrollLeft","clientHeight","clientWidth","lineCount","floor","length","ceil","forEach","index","navInfo","count","scrollInfo","getScrollInfoByIndex","lastNav","firstNav","startPage","endPage","endNum","startNum","sourceItems","slice","pageIndex","scrollHeigth","tempNow","tempNext","navs","values","next","nowInfo","nextInfo","conditionTwo","conditionThree","conditionOne","done","getScrollBars","map","size","handleActiveChange","info","node","setTimeout","list","ref","onScroll","defaultProps","group","y","lookAt","features","data","j","polygonArr0","geometry","coordinates","polygonArr","californiaPts","v","push","multiplyScalar","shape","extrudeSettings","x","rx","ry","rz","californiaShape","depth","bevelEnabled","bevelSegments","steps","bevelSize","bevelThickness","hex","toString","randomHexColor","side","rotation","scale","composer","addPass","afterimagePass"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ithree\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ithree\"] = factory();\n\telse\n\t\troot[\"ithree\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","module.exports = require(\"three\");","module.exports = require(\"react\");","module.exports = require(\"three/examples/jsm/controls/OrbitControls.js\");","module.exports = require(\"fetch-jsonp\");","module.exports = require(\"axios\");","module.exports = require(\"three/examples/jsm/postprocessing/EffectComposer.js\");","module.exports = require(\"three/examples/jsm/postprocessing/RenderPass.js\");","module.exports = require(\"three/examples/jsm/postprocessing/AfterimagePass.js\");","import fetchJsonp from 'fetch-jsonp';\r\n\r\nexport class Jsonp {\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static base(url: string) {\r\n    return fetchJsonp(url).then((res: any) => res.json());\r\n  }\r\n\r\n}\r\n\r\n","// import fetchJsonp from 'fetch-jsonp';\r\nimport { API } from './api';\r\n\r\nexport class Cesium {\r\n\r\n  private static _ak: string = 'UDlMuhOMfdTRVKqtQqLiKg8oH6Lxnagt';\r\n  private static _baiduBaseUrl: string = 'https://api.map.baidu.com';\r\n  private static _geoatlasBaseUrl: string = 'https://v-edu.org.cn/sre/file/map/';\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static getPoint(input: string) {\r\n    const baseUrl = this._baiduBaseUrl + '/place/v2/search?';\r\n    const url = [\r\n      baseUrl,\r\n      'query=',\r\n      input,\r\n      '&region=',\r\n      '中国',\r\n      '&output=json&ak=',\r\n      this._ak,\r\n    ].join('');\r\n    return API.jsonp.base(url);\r\n  }\r\n\r\n  public static async getAddress(\r\n    long: number = 121.49884033194,\r\n    lat: number = 31.225696563611,\r\n  ) {\r\n    const url = [\r\n      this._baiduBaseUrl + '/reverse_geocoding/v3/?ak=',\r\n      this._ak,\r\n      '&output=json&coordtype=wgs84ll&location=',\r\n      String(lat),\r\n      ',',\r\n      String(long)].join('');\r\n    return API.jsonp.base(url);\r\n  }\r\n\r\n  public static getGeoatlas(adcode: string | number = 100000, full: boolean = false) {\r\n\r\n    //https://v-edu.org.cn/sre/file/map/geoatlas/100000_full.json\r\n\r\n    const url = [\r\n      this._geoatlasBaseUrl,\r\n      '/geoatlas/',\r\n      String(adcode),\r\n      full ? '_full' : '',\r\n      '.json',\r\n    ].join('');\r\n\r\n    return API.Axios.get(url);\r\n  }\r\n\r\n}\r\n\r\n","import axios from 'axios';\r\n\r\nexport class Axios {\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static get(url: string, params: Object = {}) {\r\n    return axios.get(url, {\r\n      params: Object.assign({\r\n        // \"参数名\": \"传递的参数\"\r\n      }, params),\r\n    })\r\n      .then((res: any) => {\r\n        return res;\r\n      })\r\n      .catch(function (error: any) {\r\n\r\n        throw new Error('API.Axios.get' + error);\r\n\r\n      });\r\n  }\r\n\r\n}","import { Jsonp } from './jsonp';\r\nimport { Cesium } from './cesium';\r\nimport { Axios } from './axios';\r\n\r\n\r\nexport class API {\r\n\r\n  public static jsonp = Jsonp;\r\n  public static cesium = Cesium;\r\n  public static Axios = Axios;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n}","export const Config = {\r\n  containerId: 'threeContainer',\r\n};\r\n\r\nexport const App = {\r\n\r\n};","\r\n\r\nimport React from 'react';\r\nimport { Config } from '../../config';\r\n\r\nexport class BaseContainer extends React.Component {\r\n\r\n  // constructor() {\r\n  //   super();\r\n  // }\r\n\r\n  public componentDidMount() {\r\n\r\n  }\r\n\r\n  public render() {\r\n    const style = { width: '100%', height: '100vh' };\r\n    return (\r\n      <div id={Config.containerId} style={style} >\r\n        {/* 浏览器不兼容! */}\r\n      </div>\r\n    );\r\n  }\r\n\r\n}","import * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nexport class ThreeRun {\r\n\r\n  public container?: HTMLElement | null;\r\n  public controls?: OrbitControls;\r\n  public camera?: THREE.PerspectiveCamera;\r\n  public scene?: THREE.Scene;\r\n  public renderer?: THREE.WebGLRenderer;\r\n  public mesh?: THREE.Mesh;\r\n\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n\r\n  constructor() {\r\n\r\n    console.log('init ithree 1.0.3');\r\n\r\n    // this.componentDidMount();\r\n  }\r\n\r\n  public componentDidMount() {\r\n    // console.log(this.props.match.params);\r\n    // console.log(this.props.history.location.state);\r\n    // console.log(THREE);\r\n\r\n    this.init();\r\n    this.renderCanvas();\r\n    // this.onWindowResize();\r\n\r\n  }\r\n\r\n  public onWindowResize = () => {\r\n    if (!this.camera) {\r\n      console.log(this.camera);\r\n      return;\r\n    }\r\n\r\n    this.camera.aspect = window.innerWidth / window.innerHeight;\r\n\r\n    this.camera.updateProjectionMatrix();\r\n\r\n    this.renderer!.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    this.renderCanvas();\r\n\r\n  }\r\n\r\n  //\r\n  public animate = () => {\r\n\r\n    window.requestAnimationFrame(this.animate);\r\n\r\n    this.renderCanvas();\r\n\r\n    this.mesh!\r\n      .rotateX(0.002 * Math.random() * 4)\r\n      .rotateY(0.002 * Math.random() * 4)\r\n      .rotateZ(-0.002 * Math.random() * 4);\r\n\r\n  }\r\n\r\n  public renderCanvas = () => {\r\n    if (this.renderer && this.scene && this.camera) {\r\n      this.renderer.render(this.scene, this.camera);\r\n    }\r\n  }\r\n\r\n  public init() {\r\n\r\n    // this.container = document.createElement('div');\r\n    this.container = document.getElementById('threeContainer');\r\n    // document.body.appendChild(this.container);\r\n\r\n    // this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.25, 20);\r\n    // this.camera.position.set(- 1.8, 0.6, 2.7);\r\n\r\n    this.camera = new THREE.PerspectiveCamera(72, window.innerWidth / window.innerHeight, 1, 3500);\r\n    this.camera.position.z = 2750;\r\n\r\n    // console.log(this.container);\r\n    // const SCREEN_WIDTH = this.container.style.width;\r\n    // const SCREEN_HEIGHT = this.container.style.height;\r\n    // const aspect = SCREEN_WIDTH / SCREEN_HEIGHT;\r\n    // const frustumSize = 600;\r\n    // this.camera = new THREE.OrthographicCamera(0.5 * frustumSize * aspect / - 2, 0.5 * frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, 150, 1000);\r\n\r\n    this.scene = new THREE.Scene();\r\n\r\n    this.scene.add(new THREE.AmbientLight(0x444444));\r\n\r\n    const light1 = new THREE.DirectionalLight(0xFFFFFF, 0.5);\r\n    light1.position.set(1, 1, 1);\r\n    this.scene.add(light1);\r\n\r\n    const light2 = new THREE.DirectionalLight(0xFFFFFF, 1.5);\r\n    light2.position.set(0, - 1, 0);\r\n    this.scene.add(light2);\r\n\r\n    const box = new THREE.SphereBufferGeometry(4, 4, 4, 1, 1, 1);\r\n    const material = new THREE.MeshNormalMaterial({\r\n      // color: 0xFFFF00,\r\n      wireframe: true,\r\n      transparent: true,\r\n      opacity: 0.6,\r\n    });\r\n    this.mesh = new THREE.Mesh(box, material);\r\n    this.scene.add(this.mesh);\r\n\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    this.renderer.setPixelRatio(window.devicePixelRatio);\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n    this.renderer.toneMappingExposure = 1;\r\n    this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n    this.container!.appendChild(this.renderer.domElement);\r\n\r\n    this.renderer.autoClearStencil = false;\r\n\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n    this.controls.addEventListener('change', this.renderCanvas); // use if there is no animation loop\r\n    this.controls.minDistance = 2;\r\n    this.controls.maxDistance = 10;\r\n    this.controls.target.set(0, 0, - 0.2);\r\n    this.controls.update();\r\n    this.animate();\r\n    window.addEventListener('resize', this.onWindowResize, false);\r\n  }\r\n\r\n}","//use demo \r\n// import * as Cesium from 'cesium';\r\nimport * as React from 'react';\r\nimport { BaseContainer } from '..';\r\nimport { ThreeRun } from '../../demos/demo';\r\n\r\nexport class DemoComponent extends React.Component {\r\n  public _earth?: any;\r\n\r\n  public componentDidMount() {\r\n    const a = new ThreeRun();\r\n    console.log(a, 'ThreeRun');\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <BaseContainer />\r\n    );\r\n  }\r\n}","import * as React from 'react';\r\n\r\n\r\nexport interface IColorCard {\r\n    id: string;\r\n    name: string;\r\n    color: string;\r\n    colorIndex: string;\r\n}\r\n\r\nexport interface IColorCardProps {\r\n    item: IColorCard;\r\n    lineCount: number;\r\n    active?: boolean;\r\n\r\n    onClick?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n    onMouseDown?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n    onMouseUp?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n    onMouseMove?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n}\r\n\r\nexport class ColorCard extends React.Component<IColorCardProps, any> {\r\n\r\n    public handleClick = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        e.stopPropagation();\r\n        if (this.props.item.id) {\r\n            if (this.props.onClick) {\r\n                this.props.onClick(this.props.item, e);\r\n            }\r\n        }\r\n    }\r\n    public handleMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        e.stopPropagation();\r\n        if (this.props.item.id) {\r\n            if (this.props.onMouseDown) {\r\n                this.props.onMouseDown(this.props.item, e);\r\n            }\r\n        }\r\n    }\r\n    public handleMouseUp = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        e.stopPropagation();\r\n        if (this.props.item.id) {\r\n            if (this.props.onMouseUp) {\r\n                this.props.onMouseUp(this.props.item, e);\r\n            }\r\n        }\r\n    }\r\n    public handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\r\n        e.stopPropagation();\r\n        if (this.props.item.id) {\r\n            if (this.props.onMouseMove) {\r\n                this.props.onMouseMove(this.props.item, e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        const { item, lineCount } = this.props;\r\n        const cardStyle = {\r\n            width: `calc(100% / ${lineCount} - 3px)`,\r\n        };\r\n        return <div\r\n            className={`color-card ${!item.id ? 'empty' : ''}`}\r\n            style={cardStyle}\r\n            onClick={this.handleClick}\r\n            onMouseDown={this.handleMouseDown}\r\n            onMouseUp={this.handleMouseUp}\r\n            onMouseMove={this.handleMouseMove}\r\n        >\r\n            <div className={this.props.active ? 'active' : ''} style={{ backgroundColor: item.color }}>\r\n                <p className='title'>{item.name}</p>\r\n            </div>\r\n        </div>;\r\n    }\r\n}","import * as React from 'react';\r\nimport { ColorCard, IColorCard } from './color-card';\r\n\r\nexport interface IColorPaletteProps {\r\n    lineCount?: number; // 一行多少个元素 ...默认是6个\r\n    blockStyle?: React.CSSProperties; // 对于显示颜色块的样式扩展（用于设置高度）\r\n    items: IColorCard[]; // 色块数组\r\n    isShowAll?: boolean; // 显示全部，不显示分组;默认分组显示\r\n\r\n    onClick?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n    onMouseDown?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n    onMouseUp?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n    onMouseMove?: (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => void;\r\n}\r\nexport interface IColorPaletteState {\r\n    activeIndex: string;\r\n    colorItems: IColorCard[];\r\n    activeItemId?: string;\r\n\r\n}\r\nexport interface ColorNav {\r\n    color: string;\r\n    count: number;\r\n    scrollInfo: {\r\n        pageIndex: number;\r\n        scrollHeigth: number;\r\n    };\r\n}\r\n\r\nexport class ColorPalette extends React.Component<IColorPaletteProps, IColorPaletteState> {\r\n    public static defaultProps = {\r\n        lineCount: 7,\r\n        isShowAll: false,\r\n    };\r\n    public noCheck: boolean = false;\r\n    // public scrollNode: HTMLDivElement | undefined; // 滚动node\r\n    public itemHeigth: number = 0; // 单元素高底\r\n    public itemLineCount: number = 0; // 总共多少行\r\n    public maxBlocks: number = 0; // 一页多少行\r\n    public currentPage: number = 0; // 当前第几页\r\n    public fillItemCount: number = 0; // 填充元素个数\r\n    public navBlocks = new Map<string, ColorNav>();\r\n\r\n\r\n    private boxRef: React.RefObject<HTMLDivElement>;\r\n    constructor(props: IColorPaletteProps) {\r\n        super(props);\r\n        this.state = {\r\n            activeIndex: '',\r\n            colorItems: [],\r\n        };\r\n        this.boxRef = React.createRef();\r\n    }\r\n\r\n    get sourceItems(): IColorCard[] {\r\n        const fillItems = new Array(this.fillItemCount).fill({\r\n            id: '',\r\n            name: '',\r\n            color: 'transparent',\r\n            colorIndex: '',\r\n        });\r\n        return [...this.props.items, ...fillItems];\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.initData(this.props);\r\n        window.addEventListener('resize', this.generateData);\r\n    }\r\n\r\n    public componentWillReceiveProps(nextProps: IColorPaletteProps) {\r\n        this.initData(nextProps);\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        window.removeEventListener('resize', this.generateData);\r\n    }\r\n\r\n    public generateData = () => {\r\n        this.initData(this.props);\r\n    }\r\n\r\n\r\n    public checkScrollTo(element: HTMLDivElement | undefined, options: ScrollToOptions) {\r\n        if (element) {\r\n            if (element.scrollTo) {\r\n                element.scrollTo(options);\r\n            } else if (element.scroll) {\r\n                element.scroll(options);\r\n            } else if (element.scrollBy) {\r\n                const { top, left } = options;\r\n                const scrollOpt: ScrollToOptions = {};\r\n                if (top !== undefined) {\r\n                    scrollOpt.top = top - element.scrollTop;\r\n                }\r\n                if (left !== undefined) {\r\n                    scrollOpt.left = left - element.scrollLeft;\r\n                }\r\n                element.scrollBy(scrollOpt);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public initData(props: IColorPaletteProps) {\r\n        if (this.props.isShowAll) {\r\n            this.setState({\r\n                colorItems: this.props.items,\r\n            });\r\n            return;\r\n        }\r\n        if (this.boxRef.current) {\r\n            const { clientHeight, clientWidth } = this.boxRef.current;\r\n            const { items } = props;\r\n            const lineCount = this.props.lineCount || 0;\r\n\r\n\r\n            // 单个元素高度\r\n            this.itemHeigth = ((clientWidth - 38) / lineCount); // padding-left + padding-right = 38\r\n            // 总共多少行\r\n            this.itemLineCount = Math.floor(items.length / lineCount) + (items.length % lineCount ? 1 : 0);\r\n            // 一页最多有多少个颜色块\r\n            this.maxBlocks = Math.ceil(clientHeight / this.itemHeigth) * lineCount;\r\n\r\n            // 导航\r\n            const tempNav = new Map<string, ColorNav>();\r\n            items.forEach((item, index) => {\r\n                const navInfo = tempNav.get(item.colorIndex) || {\r\n                    color: item.colorIndex,\r\n                    count: 0,\r\n                    scrollInfo: this.getScrollInfoByIndex(index),\r\n                };\r\n                tempNav.set(item.colorIndex, navInfo);\r\n                navInfo.count++;\r\n            });\r\n            this.navBlocks = tempNav;\r\n\r\n            const lastNav = tempNav.get(items[items.length - 1].colorIndex)!;\r\n            const firstNav = tempNav.get(items[0].colorIndex)!;\r\n            // 填充空白的个数计算\r\n            if (this.maxBlocks > lastNav.count) {\r\n                this.fillItemCount = this.maxBlocks - lastNav.count + 1;\r\n            }\r\n\r\n            this.currentPage = 1;\r\n            this.setState({\r\n                colorItems: this.getPageItems(1, 2).items,\r\n                activeIndex: firstNav.color,\r\n            }, () => {\r\n                if (this.boxRef.current) {\r\n                    this.checkScrollTo(this.boxRef.current, { top: 1 });\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    public getPageItems(startPage: number, endPage?: number) {\r\n        let endNum = startPage * this.maxBlocks;\r\n        const startNum = (startPage - 1) * this.maxBlocks;\r\n        if (endPage && endPage > startPage) {\r\n            endNum = endPage * this.maxBlocks;\r\n        }\r\n        return {\r\n            index: startPage,\r\n            items: this.sourceItems.slice(startNum, endNum),\r\n        };\r\n    }\r\n\r\n    public getScrollInfoByIndex(index: number) {\r\n        const lineCount = this.props.lineCount || 0;\r\n        // 第几页---- 页码从1开始\r\n        const pageNum = Math.floor(index / this.maxBlocks) + 1;\r\n        // 偏移高度 \r\n        const offsetTop = Math.floor((index % this.maxBlocks) / lineCount) * this.itemHeigth;\r\n        return {\r\n            pageIndex: pageNum,\r\n            scrollHeigth: offsetTop,\r\n        };\r\n    }\r\n\r\n    public handleCardScroll = (e: React.UIEvent<HTMLDivElement>) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        if (this.props.isShowAll) { return; }\r\n\r\n        if (this.boxRef.current) {\r\n            const { scrollTop, clientHeight } = this.boxRef.current;\r\n            const node = this.boxRef.current;\r\n            if (scrollTop >= clientHeight) {\r\n                this.currentPage++;\r\n                this.setState({\r\n                    colorItems: this.getPageItems(this.currentPage, this.currentPage + 1).items,\r\n                }, () => {\r\n                    this.checkScrollTo(node, { top: 1 });\r\n                    this.checkNavigation();\r\n                });\r\n            } else if (scrollTop <= 0 && this.currentPage !== 1) {\r\n                this.currentPage--;\r\n                this.setState({\r\n                    colorItems: this.getPageItems(this.currentPage, this.currentPage + 1).items,\r\n                }, () => {\r\n                    this.checkScrollTo(node, { top: clientHeight - 1 });\r\n                    this.checkNavigation();\r\n                });\r\n            } else {\r\n                this.checkNavigation();\r\n            }\r\n        }\r\n    }\r\n    // 检查Nav导航\r\n    public checkNavigation() {\r\n        if (this.noCheck) {\r\n            return;\r\n        }\r\n\r\n        const navs = this.navBlocks.values();\r\n        let scrollTop = 0;\r\n        if (this.boxRef.current) {\r\n            scrollTop = this.boxRef.current.scrollTop;\r\n        }\r\n        let tempNow, tempNext;\r\n        tempNow = navs.next();\r\n        do {\r\n            tempNext = navs.next();\r\n            const nowInfo = tempNow.value.scrollInfo;\r\n            if (tempNext.value) {\r\n                const nextInfo = tempNext.value.scrollInfo;\r\n                const conditionOne = nowInfo.pageIndex < this.currentPage && nextInfo.pageIndex > this.currentPage;\r\n                let conditionTwo, conditionThree;\r\n                if (!conditionOne) {\r\n                    conditionTwo = nowInfo.pageIndex === this.currentPage && nowInfo.scrollHeigth <= scrollTop;\r\n                    if (nextInfo.pageIndex === this.currentPage && nextInfo.scrollHeigth <= scrollTop) {\r\n                        conditionTwo = false;\r\n                    }\r\n                }\r\n                if (!conditionTwo) {\r\n                    conditionThree = nextInfo.pageIndex === this.currentPage && nextInfo.scrollHeigth > scrollTop;\r\n                }\r\n                if (conditionOne || conditionTwo || conditionThree) {\r\n                    this.setState({\r\n                        activeIndex: tempNow.value.color,\r\n                    });\r\n                    break;\r\n                }\r\n            } else {\r\n                const conditionOne = nowInfo.pageIndex < this.currentPage;\r\n                let conditionTwo;\r\n                if (!conditionOne) {\r\n                    conditionTwo = nowInfo.pageIndex === this.currentPage && nowInfo.scrollHeigth <= scrollTop;\r\n                }\r\n                if (conditionOne || conditionTwo) {\r\n                    this.setState({\r\n                        activeIndex: tempNow.value.color,\r\n                    });\r\n                    break;\r\n                }\r\n            }\r\n\r\n            tempNow = tempNext;\r\n        } while (!tempNext.done);\r\n    }\r\n\r\n    public getScrollBars() {\r\n        return [...this.navBlocks.values()].map(item => {\r\n            const style = {\r\n                backgroundColor: item.color,\r\n                height: `${100 / this.navBlocks.size}%`,\r\n            };\r\n            return <div key={item.color} className={item.color === this.state.activeIndex ? 'active' : ''} style={style} onClick={() => {\r\n                this.handleActiveChange(item.color);\r\n            }}></div>;\r\n        });\r\n    }\r\n\r\n    public handleActiveChange(key: string) {\r\n        if (!this.boxRef.current) {\r\n            return;\r\n        }\r\n        const info = this.navBlocks.get(key)!.scrollInfo;\r\n        this.currentPage = info.pageIndex;\r\n        this.setState({\r\n            activeIndex: key,\r\n            colorItems: this.getPageItems(this.currentPage, this.currentPage + 1).items,\r\n        }, () => {\r\n            const node = this.boxRef.current!;\r\n            //设最小偏移量 + 1，防止无法向上滚动\r\n            this.checkScrollTo(node, { top: info.scrollHeigth + 1 });\r\n\r\n            this.noCheck = true;\r\n            setTimeout(() => {\r\n                this.noCheck = false;\r\n            }, 200);\r\n        });\r\n    }\r\n\r\n    public handleItemMouseDown = (item: IColorCard, e?: React.MouseEvent<HTMLDivElement>) => {\r\n        this.setState({\r\n            activeItemId: item.id,\r\n        });\r\n        if (this.props.onMouseDown) {\r\n            this.props.onMouseDown(item, e);\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        const lineCount = this.props.lineCount || 0;\r\n\r\n        const list = this.state.colorItems.map((item, index) => {\r\n            return <ColorCard key={index} item={item} active={this.state.activeItemId === item.id} lineCount={lineCount} onClick={this.props.onClick} onMouseDown={this.handleItemMouseDown} onMouseMove={this.props.onMouseMove} onMouseUp={this.props.onMouseUp} />;\r\n        });\r\n\r\n        return <div className='color-palette'>\r\n            <div className='outer-container'>\r\n                <div className={`scrollbar ${this.props.isShowAll ? 'hide' : ''}`}>\r\n                    {this.getScrollBars()}\r\n                </div>\r\n                <div className='card-list' ref={this.boxRef} onScroll={this.handleCardScroll} >\r\n                    {list}\r\n                </div>\r\n            </div>\r\n        </div>;\r\n    }\r\n}\r\n","import * as THREE from 'three';\r\n\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\r\n// import { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { AfterimagePass } from 'three/examples/jsm/postprocessing/AfterimagePass.js';\r\n// import { API } from '../api';\r\n// import 'three/examples/jsm/controls/OrbitControls.js';\r\n// import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\n// import { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\r\n// import { RoughnessMipmapper } from 'three/examples/jsm/utils/RoughnessMipmapper.js';\r\n// console.log(THREE);\r\n\r\nimport WorldJson from '../sampledata/world.json';\r\n// import WorldJson from '../sampledata/teapotclaraio.json';\r\n\r\nexport class DigitalEarth {\r\n\r\n  public container?: HTMLElement | null;\r\n  public controls?: OrbitControls;\r\n  public camera?: THREE.PerspectiveCamera;\r\n  public scene?: THREE.Scene;\r\n  public renderer?: THREE.WebGLRenderer;\r\n  public mesh?: THREE.Mesh | THREE.Points;\r\n  public composer?: EffectComposer;\r\n  public afterimagePass?: AfterimagePass;\r\n\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n\r\n  constructor() {\r\n\r\n    console.log('init ithree 1.0.3');\r\n\r\n    this.componentDidMount();\r\n  }\r\n\r\n  public componentDidMount() {\r\n    // console.log(this.props.match.params);\r\n    // console.log(this.props.history.location.state);\r\n    // console.log(THREE);\r\n\r\n    this.init();\r\n    this.renderCanvas();\r\n    // this.onWindowResize();\r\n\r\n  }\r\n\r\n  public onWindowResize = () => {\r\n    if (!this.camera) {\r\n      console.log(this.camera);\r\n      return;\r\n    }\r\n\r\n    this.camera.aspect = window.innerWidth / window.innerHeight;\r\n\r\n    this.camera.updateProjectionMatrix();\r\n\r\n    this.renderer!.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    this.renderCanvas();\r\n\r\n  }\r\n\r\n  //\r\n  public animate = () => {\r\n\r\n    window.requestAnimationFrame(this.animate);\r\n\r\n    this.renderCanvas();\r\n\r\n    // this.mesh!\r\n    //   .rotateX(0.002 * Math.random() * 4)\r\n    //   .rotateY(0.002 * Math.random() * 4)\r\n    //   .rotateZ(-0.002 * Math.random() * 4);\r\n\r\n  }\r\n\r\n  public renderCanvas = () => {\r\n\r\n    if (this.renderer) {\r\n      this.renderer.render(this.scene!, this.camera!);\r\n    }\r\n    // if (this.composer) {\r\n    //   this.composer.render();\r\n    // }\r\n  }\r\n\r\n  public init() {\r\n\r\n    // this.container = document.createElement('div');\r\n    this.container = document.getElementById('threeContainer');\r\n    // document.body.appendChild(this.container);\r\n\r\n    // this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.25, 20);\r\n    // this.camera.position.set(- 1.8, 0.6, 2.7);\r\n\r\n    this.camera = new THREE.PerspectiveCamera(105, window.innerWidth / window.innerHeight, 1, 35000000000);\r\n    this.camera.position.z = 100000000;\r\n\r\n    this.camera.position.set(-500, 500, 10000000);\r\n\r\n\r\n    // console.log(this.container);\r\n    // const SCREEN_WIDTH = this.container.style.width;\r\n    // const SCREEN_HEIGHT = this.container.style.height;\r\n    // const aspect = SCREEN_WIDTH / SCREEN_HEIGHT;\r\n    // const frustumSize = 600;\r\n    // this.camera = new THREE.OrthographicCamera(0.5 * frustumSize * aspect / - 2, 0.5 * frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, 150, 1000);\r\n\r\n    this.scene = new THREE.Scene();\r\n\r\n    this.scene.add(new THREE.AmbientLight(0x444444));\r\n\r\n    const light1 = new THREE.DirectionalLight(0xFFFFFF, 0.5);\r\n    light1.position.set(1, 1, 1);\r\n    this.scene.add(light1);\r\n\r\n    const light2 = new THREE.DirectionalLight(0xFFFFFF, 1.5);\r\n    light2.position.set(0, - 1, 0);\r\n    this.scene.add(light2);\r\n\r\n\r\n    const box = new THREE.SphereBufferGeometry(4, 600, 240);\r\n    // const material = new THREE.MeshNormalMaterial({\r\n    //   // color: 0xFFFF00,\r\n    //   wireframe: true,\r\n    //   transparent: true,\r\n    //   opacity: 0.6,\r\n    // });\r\n    const material = new THREE.PointsMaterial({\r\n      color: 0x00FF00,\r\n      size: 0.04,\r\n      transparent: true,\r\n      opacity: 0.06,\r\n    });\r\n\r\n    this.mesh = new THREE.Points(box, material);\r\n    this.scene.add(this.mesh);\r\n\r\n    // BEGIN Clara.io JSON loader code\r\n    // const objectLoader = new THREE.ObjectLoader();\r\n    // // objectLoader.load('../sampledata/teapotclaraio.json', (obj) => {\r\n    // // objectLoader.load(WorldJson, (obj) => {\r\n    // objectLoader.load('https://threejs.org/examples/models/json/lightmap/lightmap.json', (res: any) => {\r\n    //   // objectLoader.load('https://blog-1256207336.cos-website.ap-chengdu.myqcloud.com/static/media/world.b6196b30.json', (obj) => {\r\n    //   // objectLoader.load('https://www.wellyyss.cn/data/ysThree/geoJson/world.json', (obj) => {\r\n\r\n    //   console.log(res, 'world.json');\r\n\r\n    //   // this.scene!.add(obj);\r\n\r\n    // });\r\n\r\n    const group = new THREE.Group();\r\n    group.position.y = 50;\r\n    this.scene.add(group);\r\n\r\n    this.camera.lookAt(group.position);\r\n\r\n    this.scene.add(new THREE.AxesHelper(20));\r\n\r\n    // const loader = new THREE.TextureLoader();\r\n    // const texture = loader.load('https://threejs.org/examples/textures/uv_grid_opengl.jpg');\r\n\r\n    // // it's necessary to apply these settings in order to correctly display the texture on a shape geometry\r\n\r\n    // texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n    // texture.repeat.set(0.008, 0.008);\r\n\r\n    const res = WorldJson;\r\n\r\n    console.log(res, 'world.json000000');\r\n\r\n    // API.Axios.get('https://v-edu.org.cn/sre/file/map/geoatlas/100000_full.json').then(res => {\r\n    // API.Axios.get('https://v-edu.org.cn/sre/file/map/geoatlas/100000_full.json').then(res => {\r\n    // API.Axios.get('../sampledata/teapotclaraio.json').then(res => {\r\n    console.log(res, 'world.json000000');\r\n\r\n    // const features = res.data.features;\r\n    const features = res.features;\r\n\r\n    console.log(features, 'features');\r\n\r\n    features.map((data: Object) => {\r\n\r\n      console.log(data, 'data');\r\n\r\n      // data.geometry.coordinates\r\n\r\n    });\r\n\r\n    // const instances = [];\r\n    // for (let i = 0; i < features.length; i++) {\r\n    for (let i = 0; i < features.length; i++) {\r\n      for (let j = 0; j < features[i].geometry.coordinates.length; j++) {\r\n        const polygonArr0 = features[i].geometry.coordinates[j]; //.toString().split(',').map((v: string) => { return Number(v); });\r\n\r\n        console.log(polygonArr0, 'polygonArr0');\r\n\r\n        const polygonArr = polygonArr0[0];\r\n\r\n\r\n        if (!polygonArr) { return; }\r\n        if (polygonArr.length === 0) { return; }\r\n\r\n        console.log(polygonArr, 'polygonArr');\r\n\r\n        // const geometry = new THREE.bufferGeometry();\r\n\r\n        // California\r\n\r\n        const californiaPts: THREE.Vector2[] = [];\r\n\r\n        polygonArr.map((v: number[], index: number) => {\r\n\r\n          console.log(v, index, 'polygonArr');\r\n\r\n          californiaPts.push(new THREE.Vector2(v[0] - 113, v[1] - 22).multiplyScalar(20));\r\n\r\n        });\r\n\r\n        // for (let p = 0; i < polygonArr.length; p++) {\r\n        //   // californiaPts[p].multiplyScalar(0.25);\r\n        //   console.log(polygonArr[p], 'polygonArr[p]');\r\n        //   // californiaPts.push(new THREE.Vector2(polygonArr[p][0], polygonArr[p][1]));\r\n        // }\r\n\r\n        // californiaPts.push(new THREE.Vector2(polygonArr[0][0], polygonArr[0][1]));\r\n\r\n        // californiaPts.push(new THREE.Vector2(610, 320));\r\n        // californiaPts.push(new THREE.Vector2(450, 300));\r\n        // californiaPts.push(new THREE.Vector2(392, 392));\r\n        // californiaPts.push(new THREE.Vector2(266, 438));\r\n        // californiaPts.push(new THREE.Vector2(190, 570));\r\n        // californiaPts.push(new THREE.Vector2(190, 600));\r\n        // californiaPts.push(new THREE.Vector2(160, 620));\r\n        // californiaPts.push(new THREE.Vector2(160, 650));\r\n        // californiaPts.push(new THREE.Vector2(180, 640));\r\n        // californiaPts.push(new THREE.Vector2(165, 680));\r\n        // californiaPts.push(new THREE.Vector2(150, 670));\r\n        // californiaPts.push(new THREE.Vector2(90, 737));\r\n        // californiaPts.push(new THREE.Vector2(80, 795));\r\n        // californiaPts.push(new THREE.Vector2(50, 835));\r\n        // californiaPts.push(new THREE.Vector2(64, 870));\r\n        // californiaPts.push(new THREE.Vector2(60, 945));\r\n        // californiaPts.push(new THREE.Vector2(300, 945));\r\n        // californiaPts.push(new THREE.Vector2(300, 743));\r\n        // californiaPts.push(new THREE.Vector2(600, 473));\r\n        // californiaPts.push(new THREE.Vector2(626, 425));\r\n        // californiaPts.push(new THREE.Vector2(600, 370));\r\n        // californiaPts.push(new THREE.Vector2(610, 320));\r\n\r\n        // for (let p = 0; i < californiaPts.length; p++) { californiaPts[p].multiplyScalar(0.25); }\r\n\r\n        const californiaShape = new THREE.Shape(californiaPts);\r\n\r\n        const addShape = function (shape: THREE.Shape, extrudeSettings: Object, color: any, x: number, y: number, z: number, rx: number, ry: number, rz: number, s: number) {\r\n\r\n          // flat shape with texture\r\n          // note: default UVs generated by THREE.ShapeBufferGeometry are simply the x- and y-coordinates of the vertices\r\n\r\n          let geometry = new THREE.ShapeBufferGeometry(shape);\r\n\r\n          let mesh = new THREE.Mesh(geometry, new THREE.MeshPhongMaterial({\r\n            side: THREE.DoubleSide,\r\n            // map: texture,\r\n          }));\r\n          mesh.position.set(x, y, z - 175);\r\n          mesh.rotation.set(rx, ry, rz);\r\n          mesh.scale.set(s, s, s);\r\n          group.add(mesh);\r\n\r\n          // flat shape\r\n\r\n          geometry = new THREE.ShapeBufferGeometry(shape);\r\n\r\n          mesh = new THREE.Mesh(geometry, new THREE.MeshPhongMaterial({ color: color, side: THREE.DoubleSide }));\r\n          mesh.position.set(x, y, z - 125);\r\n          mesh.rotation.set(rx, ry, rz);\r\n          mesh.scale.set(s, s, s);\r\n          group.add(mesh);\r\n\r\n          // extruded shape\r\n\r\n          geometry = new THREE.ExtrudeBufferGeometry(shape, extrudeSettings);\r\n\r\n          mesh = new THREE.Mesh(geometry, new THREE.MeshPhongMaterial({ color: color }));\r\n          mesh.position.set(x, y, z - 75);\r\n          mesh.rotation.set(rx, ry, rz);\r\n          mesh.scale.set(s, s, s);\r\n          group.add(mesh);\r\n\r\n          // addLineShape(shape, color, x, y, z, rx, ry, rz, s);\r\n\r\n        };\r\n\r\n        const randomHexColor = function () { //随机生成十六进制颜色\r\n          let hex = Math.floor(Math.random() * 16777216).toString(16); //生成ffffff以内16进制数\r\n          while (hex.length < 6) { //while循环判断hex位数，少于6位前面加0凑够6位\r\n            hex = '0' + hex;\r\n          }\r\n          return '#' + hex; //返回‘#'开头16进制颜色\r\n        };\r\n\r\n        const extrudeSettings1 = { depth: 8, bevelEnabled: true, bevelSegments: 2, steps: 2, bevelSize: 1, bevelThickness: 1 };\r\n\r\n        addShape(californiaShape, extrudeSettings1, new THREE.Color(randomHexColor()), - 300, - 100, 0, 0, 0, 0, 1);\r\n\r\n        // const polygon = new Cesium.PolygonGeometry({\r\n        //   polygonHierarchy: new Cesium.PolygonHierarchy(\r\n        //     Cesium.Cartesian3.fromDegreesArray(polygonArr),\r\n        //   ),\r\n        //   vertexFormat: Cesium.PerInstanceColorAppearance.VERTEX_FORMAT,\r\n        // });\r\n        // const geometry = Cesium.PolygonGeometry.createGeometry(polygon);\r\n\r\n      }\r\n    }\r\n\r\n    // });\r\n\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    this.renderer.setPixelRatio(window.devicePixelRatio);\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n    this.renderer.toneMappingExposure = 1;\r\n    this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n    this.container!.appendChild(this.renderer.domElement);\r\n\r\n    this.renderer.autoClearStencil = false;\r\n\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n    this.controls.addEventListener('change', this.renderCanvas); // use if there is no animation loop\r\n    this.controls.minDistance = 2;\r\n    this.controls.maxDistance = 10;\r\n    this.controls.target.set(0, 0, - 0.2);\r\n    this.controls.update();\r\n\r\n    this.animate();\r\n\r\n    // postprocessing\r\n\r\n    // this.composer = new EffectComposer(this.renderer);\r\n    // this.composer.addPass(new RenderPass(this.scene, this.camera));\r\n\r\n    // this.afterimagePass = new AfterimagePass();\r\n    // this.composer.addPass(this.afterimagePass);\r\n\r\n    // this.afterimagePass.uniforms['damp'] = 0.99;\r\n    // this.afterimagePass.uniforms.damp = 0.999;\r\n\r\n    window.addEventListener('resize', this.onWindowResize, false);\r\n\r\n  }\r\n\r\n}","//use demo \r\n// import * as Cesium from 'cesium';\r\nimport * as React from 'react';\r\nimport { BaseContainer } from '..';\r\nimport { DigitalEarth } from '../../demos/digital-earth';\r\n\r\nexport class DigitalEarthComponent extends React.Component {\r\n  public _earth?: any;\r\n\r\n  public componentDidMount() {\r\n    const a = new DigitalEarth();\r\n    console.log(a, 'ThreeRun');\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <BaseContainer />\r\n    );\r\n  }\r\n}","import * as THREE from 'three';\r\n\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer.js';\r\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass.js';\r\nimport { AfterimagePass } from 'three/examples/jsm/postprocessing/AfterimagePass.js';\r\n// import 'three/examples/jsm/controls/OrbitControls.js';\r\n// import { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\n// import { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';\r\n// import { RoughnessMipmapper } from 'three/examples/jsm/utils/RoughnessMipmapper.js';\r\n// console.log(THREE);\r\n\r\nexport class Core {\r\n\r\n  public container?: HTMLElement | null;\r\n  public controls?: OrbitControls;\r\n  public camera?: THREE.PerspectiveCamera;\r\n  public scene?: THREE.Scene;\r\n  public renderer?: THREE.WebGLRenderer;\r\n  public mesh?: THREE.Mesh;\r\n  public composer?: EffectComposer;\r\n  public afterimagePass?: AfterimagePass;\r\n\r\n  // constructor(props) {\r\n  //   super(props);\r\n  // }\r\n\r\n  constructor() {\r\n\r\n    console.log('init ithree 1.0.3');\r\n\r\n    this.componentDidMount();\r\n  }\r\n\r\n  public componentDidMount() {\r\n    // console.log(this.props.match.params);\r\n    // console.log(this.props.history.location.state);\r\n    // console.log(THREE);\r\n\r\n    this.init();\r\n    this.renderCanvas();\r\n    // this.onWindowResize();\r\n\r\n  }\r\n\r\n  public onWindowResize = () => {\r\n    if (!this.camera) {\r\n      console.log(this.camera);\r\n      return;\r\n    }\r\n\r\n    this.camera.aspect = window.innerWidth / window.innerHeight;\r\n\r\n    this.camera.updateProjectionMatrix();\r\n\r\n    this.renderer!.setSize(window.innerWidth, window.innerHeight);\r\n\r\n    this.renderCanvas();\r\n\r\n  }\r\n\r\n  //\r\n  public animate = () => {\r\n\r\n    window.requestAnimationFrame(this.animate);\r\n\r\n    this.renderCanvas();\r\n\r\n    this.mesh!\r\n      .rotateX(0.002 * Math.random() * 4)\r\n      .rotateY(0.002 * Math.random() * 4)\r\n      .rotateZ(-0.002 * Math.random() * 4);\r\n\r\n  }\r\n\r\n  public renderCanvas = () => {\r\n\r\n    // this.renderer.render(this.scene, this.camera);\r\n    if (this.composer) {\r\n      this.composer.render();\r\n    }\r\n  }\r\n\r\n  public init() {\r\n\r\n    // this.container = document.createElement('div');\r\n    this.container = document.getElementById('threeContainer');\r\n    // document.body.appendChild(this.container);\r\n\r\n    // this.camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.25, 20);\r\n    // this.camera.position.set(- 1.8, 0.6, 2.7);\r\n\r\n    this.camera = new THREE.PerspectiveCamera(72, window.innerWidth / window.innerHeight, 1, 3500);\r\n    this.camera.position.z = 2750;\r\n\r\n    // console.log(this.container);\r\n    // const SCREEN_WIDTH = this.container.style.width;\r\n    // const SCREEN_HEIGHT = this.container.style.height;\r\n    // const aspect = SCREEN_WIDTH / SCREEN_HEIGHT;\r\n    // const frustumSize = 600;\r\n    // this.camera = new THREE.OrthographicCamera(0.5 * frustumSize * aspect / - 2, 0.5 * frustumSize * aspect / 2, frustumSize / 2, frustumSize / - 2, 150, 1000);\r\n\r\n    this.scene = new THREE.Scene();\r\n\r\n    this.scene.add(new THREE.AmbientLight(0x444444));\r\n\r\n    const light1 = new THREE.DirectionalLight(0xFFFFFF, 0.5);\r\n    light1.position.set(1, 1, 1);\r\n    this.scene.add(light1);\r\n\r\n    const light2 = new THREE.DirectionalLight(0xFFFFFF, 1.5);\r\n    light2.position.set(0, - 1, 0);\r\n    this.scene.add(light2);\r\n\r\n    const box = new THREE.SphereBufferGeometry(4, 4, 4, 1, 1, 1);\r\n    const material = new THREE.MeshNormalMaterial({\r\n      // color: 0xFFFF00,\r\n      wireframe: true,\r\n      transparent: true,\r\n      opacity: 0.6,\r\n    });\r\n    this.mesh = new THREE.Mesh(box, material);\r\n    this.scene.add(this.mesh);\r\n\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    this.renderer.setPixelRatio(window.devicePixelRatio);\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    this.renderer.toneMapping = THREE.ACESFilmicToneMapping;\r\n    this.renderer.toneMappingExposure = 1;\r\n    this.renderer.outputEncoding = THREE.sRGBEncoding;\r\n    this.container!.appendChild(this.renderer.domElement);\r\n\r\n    this.renderer.autoClearStencil = false;\r\n\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n    this.controls.addEventListener('change', this.renderCanvas); // use if there is no animation loop\r\n    this.controls.minDistance = 2;\r\n    this.controls.maxDistance = 10;\r\n    this.controls.target.set(0, 0, - 0.2);\r\n    this.controls.update();\r\n\r\n    this.animate();\r\n\r\n    // postprocessing\r\n\r\n    this.composer = new EffectComposer(this.renderer);\r\n    this.composer.addPass(new RenderPass(this.scene, this.camera));\r\n\r\n    this.afterimagePass = new AfterimagePass();\r\n    this.composer.addPass(this.afterimagePass);\r\n\r\n    // this.afterimagePass.uniforms['damp'] = 0.99;\r\n    // this.afterimagePass.uniforms.damp = 0.999;\r\n\r\n    window.addEventListener('resize', this.onWindowResize, false);\r\n\r\n  }\r\n\r\n}","\r\n\r\nimport React from 'react';\r\nimport { Core } from './init';\r\nimport { BaseContainer } from '../components/ui/base';\r\n\r\nexport class ThreeContainer extends React.Component {\r\n\r\n  // constructor() {\r\n  //   super();\r\n  // }\r\n\r\n  public componentDidMount() {\r\n    const a = new Core();\r\n    console.log(a, 'Core');\r\n  }\r\n\r\n  public render() {\r\n    return (\r\n      <BaseContainer />\r\n    );\r\n  }\r\n\r\n}"],"sourceRoot":""}